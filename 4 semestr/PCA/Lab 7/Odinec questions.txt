
Что такое дескрипторы?
Для того чтобы ОС могла управлять процессами, она должна располагать необходимой для этого информацией. С этой целью на каждый процесс заводится специальная информационная структура, называемая дескриптором процесса

Где находятся?
Дескрипторы процесса постоянно находятся в опер. памяти, чтобы ускорить работу ОС, к-ая организует их в списки (очереди) и отображает изменение состояния процесса, перемещением соответствующего дескриптора из одного списка в другой. В некоторых ОС количество дескрипторов определяется жёстко и заранее на этапе генерации варианта ОС или в конфигурационном файле, к-ый исполняется при загрузке ОС. В других ОС по мере необходимости с-ма выделяет участки памяти под новые дескрипторы.

Виды адресации при защищённом режиме?
*Логический адрес в защищённом режиме (иногда используется термин "виртуальный адрес") состоит из двух 16-разрядных компонент - селектора и смещения
*Физический адрес = сегментный * 16 + смещение

Как обрабатываются прерывания в защищённом режиме?
*В защищённом режиме все прерывания разделяются на два типа - обычные прерывания и исключения (exception - исключение, особый случай).
*Обычное прерывание инициируется командой INT (программное прерывание) или внешним событием (аппаратное прерывание). Перед передачей управления процедуре обработки обычного прерывания флаг разрешения прерываний IF сбрасывается и прерывания запрещаются.
*Исключение происходит в результате ошибки, возникающей при выполнении какой-либо команды, например, если команда пытается выполнить запись данных за пределами сегмента данных или использует для адресации селектор, который не определён в таблице дескрипторов.

Что такое регистры?
Регистр процессора — поле заданной длины во внутрипроцессорной сверхбыстрой оперативной памяти. Используется самим процессором, может быть как доступным, так и недоступным программно.

Что такое сегмент?
Сегмент – это блок пространства памяти определенного назначения

Сколько бит отвечает за сегмент?
Максимальный размер 4 Гбайт (для процессоров 8086 и 80286 предел был всего 64 Кбайт)

Что такое таблица дискрипторов?
Таблица GDT (Global Descriptor Table) — глобальная дескрипторная таблица.
Таблица LDT (Local Descriptor Table) — локальная дескрипторная таблица
Таблица IDT (Interrupt Descriptor Table) — дескрипторная таблица преры ваний

Какие там данные?
GDT - дескрипторы сегментов {кодов, данных} программ, стековых сегментов, сегменты состояния задач, дескрипторы для таблиц LDT, шлюзы вызова и задач.
LDT - дескрипторы сегментов {кодов, данных} программ, стековых сегментов, шлюзы вызова и задач.
IDT - шлюзы прерываний, ловушек и задач

Как формируется таблица дескрипторов ?
(фото)

Связь с структурами которые заносим в таблицы и обработчиками кода?
Это, мне кажется, из кода, потому что я понятия не имею про какие таблицы речь

Последовательность входа выхода в защищенный режим?
• вход в защищенный режим осуществляется только по загрузке MSW с РE=1, выход в реальный – только по аппаратному сбросу

Что нужно для этого сделать?
Перед тем, как переключить процессор в защищённый режим, надо выполнить некоторые подготовительные действия, а именно:
*Подготовить в оперативной памяти глобальную таблицу дескрипторов GDT
*Для обеспечения возможности возврата из защищённого режима в реальный необходимо записать адрес возврата в реальный режим в область данных BIOS по адресу 0040h:0067h, а также записать в CMOS-память в ячейку 0Fh код 5. Этот код обеспечит после выполнения сброса процессора передачу управления по адресу, подготовленному нами в области данных BIOS по адресу 0040h:0067h
*Запретить все маскируемые и немаскируемые прерывания
*Открыть адресную линию A20.
*Запомнить в оперативной памяти содержимое сегментных регистров, которые необходимо сохранить для возврата в реальный режим, в частности, указатель стека реального режима
*Загрузить регистр GDTR
*Для перевода процессора i80286 из реального режима в защищённый можно использовать специальную команду LMSW, загружающую регистр состояния процессора (Mashine Status
Word). Младший бит этого регистра указывает режим работы процессора. Значение, равное 0, соответствует реальному режиму работы, а значение 1 - защищённому.
*Для того, чтобы вернуть процессор 80286 из защищённого режима в реальный, необходимо выполнить аппаратный сброс (отключение) процессора. Это можно сделать следующим образом:
mov ax, 0FEh ; команда отключения
out 64h, ax

Структура дескриптора?
Дескрипторы представляют собой 8-байтные структуры данных, используемые для определения свойств программных элементов (сегментов,вентилей и таблиц).
Дескриптор определяет положение элемента в памяти, размер занимаемой им области (лимит), его назначение и характеристики защиты 

+ Полнсть спрашивает код

В мое время одинец разрешал читать с конспекта, если у вас так же, не поленитесь и напишите АБСОЛЮИНО ВСЁ что видите про защищенный режим
--------------------------------------------------------------------------------------------------------------------------------------------

text refered to MilkyCookie
